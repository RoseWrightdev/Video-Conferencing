# Video Conferencing Platform Configuration
# Copy this file to .env and update the values

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================
# These variables MUST be set for the application to start.
# The application will fail with a clear error message if any are missing.

# --- Go Backend (Session Server) ---

# JWT Secret for token signing (REQUIRED, minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-key-must-be-at-least-32-characters-long

# Port for the Go backend server (REQUIRED, valid port 1-65535)
PORT=8080

# Rust SFU gRPC address (REQUIRED, format: host:port)
RUST_SFU_ADDR=localhost:50051

# Redis configuration (REQUIRED if REDIS_ENABLED=true)
REDIS_ENABLED=false
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=

# --- Rust SFU (Media Server) ---

# gRPC port for the Rust SFU (REQUIRED, valid port 1-65535)
GRPC_PORT=50051

# Rust logging level (OPTIONAL, defaults to "info")
# Options: trace, debug, info, warn, error
RUST_LOG=info

# --- Frontend (Next.js) ---

# WebSocket URL for backend connection (REQUIRED, must start with ws:// or wss://)
NEXT_PUBLIC_WS_URL=ws://localhost:8080

# =============================================================================
# OPTIONAL ENVIRONMENT VARIABLES
# =============================================================================
# These variables have sensible defaults but can be overridden.

# --- Go Backend ---

# Environment mode (OPTIONAL, defaults to "production")
# Options: development, staging, production
GO_ENV=production

# Logging level (OPTIONAL, defaults to "info")
# Options: debug, info, warn, error
LOG_LEVEL=info

# Development mode flag (OPTIONAL, defaults to false)
DEVELOPMENT_MODE=false

# Skip authentication (OPTIONAL, defaults to false, DO NOT USE IN PRODUCTION)
SKIP_AUTH=false

# --- Auth0 Configuration ---

# Auth0 domain (OPTIONAL, required if SKIP_AUTH=false)
AUTH0_DOMAIN=

# Auth0 client ID (OPTIONAL, required if SKIP_AUTH=false)
AUTH0_CLIENT_ID=

# Auth0 audience (OPTIONAL, required if SKIP_AUTH=false)
AUTH0_AUDIENCE=

# Allowed CORS origins (OPTIONAL, comma-separated, defaults to http://localhost:3000)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Domain Configuration
DOMAIN=video-conferencing.example.com
WEBSOCKET_DOMAIN=ws.video-conferencing.example.com

# Kubernetes Configuration
NAMESPACE=video-conferencing
KUBECTL_CONTEXT=

# Docker Configuration
FRONTEND_IMAGE=video-conferencing/frontend:latest
BACKEND_IMAGE=video-conferencing/backend:latest
DOCKER_REGISTRY=

# TLS Configuration
TLS_CERT_PATH=
TLS_KEY_PATH=

# Environment
NODE_ENV=production

# Scaling Configuration
FRONTEND_MIN_REPLICAS=2
FRONTEND_MAX_REPLICAS=10
BACKEND_MIN_REPLICAS=2
BACKEND_MAX_REPLICAS=15

# Resource Configuration
FRONTEND_CPU_REQUEST=250m
FRONTEND_CPU_LIMIT=500m
FRONTEND_MEMORY_REQUEST=256Mi
FRONTEND_MEMORY_LIMIT=512Mi

BACKEND_CPU_REQUEST=100m
BACKEND_CPU_LIMIT=200m
BACKEND_MEMORY_REQUEST=128Mi
BACKEND_MEMORY_LIMIT=256Mi

# Monitoring
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
JAEGER_ENABLED=false

# Development Settings
DEV_MODE=false
DRY_RUN=false
DEBUG=false
